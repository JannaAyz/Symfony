{% extends 'base.html.twig' %}

{% block title %}Page de contact{% endblock %}

{% block body %}

{% block stylesheets %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    
    {# .form-group {
        display: flex;
        flex-direction: column;
    } #}
    {# .my-label {
        font-size:30px;
    } #}
    .message-input {
        height: 250px;
        width: 25vw;
    } 
    #modalParent {
    position:relative;
    }
    .modal{
    position:absolute;
    margin-top:0px;
    }
    .button{
        margin:10px;
    }
    .toDisplay {
    display: block;
    }
    .dontDisplay {
    display: none;
    } 
    
</style>
{% endblock %}
{% include "partials/_nav.html.twig"%}


<div class="example-wrapper">
    <h1>Contactez-nous</h1>
    <div>
        {{ form_start(formulaire, {'attr': {'onsubmit':'launchModal()'}}) }}
            {{ form_errors(formulaire) }}

            <div class="outline mb-4">
                {{ form_label(formulaire.mail, 'Votre adresse e-mail', {'attr': {'class': 'form-label'}}) }}
                {{ form_widget(formulaire.mail, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(formulaire.mail) }}
            </div>

            <div class="outline mb-4">
                {{ form_label(formulaire.message, 'Votre message', {'attr': {'class': 'form-label'}}) }}
                {{ form_widget(formulaire.message, {'attr': {'class': 'form-control message-input'}}) }}
                {{ form_errors(formulaire.message) }}
            </div>

            <div class="outline mb-4">
              {{ form_widget(formulaire.envoyer, {'attr': {'class':'btn btn-primary'}}) }}
            </div>
        {{ form_end(formulaire) }}
    </div>
</div>

         {# Afficher le contenu de modal.html.twig et utiliser la fonction |raw pour éviter l'échappement HTML #}


{# {% if formulaire.vars.valid %} #}
        {# {{ modal|raw }} Afficher le contenu de modal.html.twig et utiliser la fonction |raw pour éviter l'échappement HTML #}
{# {% endif %} #}

<script>
            function launchModal(){
              document.querySelector("#modalParent").classList.remove("dontDisplay");
              document.querySelector("#modalParent").classList.add("toDisplay");
            };
            function closeModal(){
              document.querySelector("#modalParent").classList.remove("toDisplay");
              document.querySelector("#modalParent").classList.add("dontDisplay");
            };
</script>
{% if modal is defined %}
        {% include "partials/modal.html.twig"%}
    {% endif %}
{# {% if formulaire.vars.valid %}
        {% include 'partials/modal.html.twig' %}
    {% endif %} #}
{% endblock %}

