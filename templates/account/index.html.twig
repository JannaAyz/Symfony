{% extends 'base.html.twig' %}

{% block title %}Page personnelle{% endblock %}
{% block stylesheets %}
{% include "partials/footer_version_classic.style.twig"%}
<style>
body {
  background: transparent!important;
  width: 100vw;
}
#zig-zags::after {
  display:none;
}
.gradient-custom {
background: #f6d365;
background: -webkit-linear-gradient(to right bottom, rgba(246, 211, 101, 1), rgba(253, 160, 133, 1));
background: linear-gradient(to right bottom, rgba(246, 211, 101, 1), rgba(253, 160, 133, 1))
}
.container {
  transform: translateY(-10%);
  margin-bottom: 100px;
}
.col-md-4 {
    transform: translateX(12px);
}
.card {
  --bs-card-border-radius: border-radius: 0px;
  border: 3px solid black;
}
#modification-iframe{ 
    position: absolute;
    inset: 0;
    margin: auto;
    display: none;
    scale: 1.5;
    z-index: 10!important;
    background-color: white;
    height:390px;
    transform: translateY(20%);
    overflow: hidden;
    box-shadow: 2px 2px 10px rgba(221, 45, 74, .5);
    animation: visible 200ms ease-out;
}
#cross {
    cursor: pointer;
    position: absolute;
    inset: 0;
    margin: auto;
    display: none;
    z-index: 11!important;
    transform: translate(380%, -280%);
}
.unvisible {
    display:none;
}
@media (min-width: 769px){
  .col-md-4 .buttons{
    transform: translateY(70%);
  }

}
@media (max-width: 768px){
  .col-md-4 {
    width: 95.3%;
    transform: translateX(12px);
  }
  .col-md-4 h5{
    transform: translateY(-70%);
  }
  .col-md-4 .buttons {
    transform: translateY(-40%);
  }
  .card {
    transform: translateX(-5px);
  }
}

</style>
{% endblock %}
{% block body %}
{% include "partials/_nav.html.twig" %}
{% set currentDate = date("now") %}
<div class="container">
  <div class="row d-flex justify-content-center h-100">
    <div class="col col-lg-6 mb-lg-6">
      <div class="card mb-3">
        <div class="row">
          <div class="col-md-4 gradient-custom text-center text-white">
            {% if user.imageUrl is not null %}
            <img src="{{ asset('uploads/img/' ~ user.imageUrl) }}"
              alt="Avatar" class="img-fluid my-5" style="width: 80px;" />
            {% else %}
            <img src="{{ asset('IMG/default.jpg') }}"
              alt="Avatar" class="img-fluid my-5" style="width: 80px;" />
            {% endif %}
            <h5> {{ user.firstname }} {{ user.lastname }}</h5>
            <div class="buttons">
              <a href="{{ path('app_register_edit', {'id': user.id}) }}" id="mdfBtn">Modifier</a>
              <iframe id="modification-iframe" src="{{ path('app_register_edit', {'id': user.id}) }}"></iframe>
              <img  style ="width:50px;" onclick="closeIframe()" id="cross" src="{{ asset('IMG/close.svg')}}" alt="cross logo"/>
              <a class="btn btn-outline-success button" href= "{{ path('app_logout') }}">Déconnexion</a>
            </div>
          </div>
          <div class="col-md-8">
            <div class="card-body p-4">
              <h6>Informations</h6>
              <hr class="mt-0 mb-4">
              <div class="row pt-1">
                <div class="col-6 mb-3">
                  <h6>Email</h6>
                  <p class="text-muted"> {{ user.email }}</p>
                </div>
                <div class="col-6 mb-3">
                  <h6>Téléphone</h6>
                  <p class="text-muted"> {{ user.phone }}</p>
                </div>
              </div>
              <h6>Livraison</h6>
              <hr class="mt-0 mb-4">
              <div class="row pt-1">
                <div class="col-6 mb-3">
                  <h6>Adresse</h6>
                  <p class="text-muted">{{ user.address }}</p>
                </div>
                  <div class="col-6 mb-3">
                  <h6>Pays</h6>
                  <p class="text-muted">{{ user.country }}</p>
                </div>
                  <div class="col-6 mb-3">
                  <h6>Code Postal</h6>
                  <p class="text-muted">{{ user.zipcode }}</p>
                </div>
                <div class="col-6 mb-3">
                  <h6>Ville</h6>
                  <p class="text-muted">{{ user.city }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
